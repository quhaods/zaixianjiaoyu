(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book-book"],{"19e0":function(t,e,n){"use strict";n.r(e);var i=n("6ad6"),a=n("2d22");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("f8f6");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"6c3fafd1",null,!1,i["a"],o);e["default"]=c.exports},"1b2f":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-drawer[data-v-6c3fafd1]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:999}.uni-drawer__content[data-v-6c3fafd1]{display:block;position:absolute;top:0;width:220px;bottom:0;background-color:#fff;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.uni-drawer--left[data-v-6c3fafd1]{left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uni-drawer--right[data-v-6c3fafd1]{right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.uni-drawer__content--visible[data-v-6c3fafd1]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-drawer__mask[data-v-6c3fafd1]{display:block;opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.4);transition:opacity .3s}.uni-drawer__mask--visible[data-v-6c3fafd1]{display:block;opacity:1}',""]),t.exports=e},2584:function(t,e,n){"use strict";n.r(e);var i=n("5fce"),a=n("c827");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"b3f99b34",null,!1,i["a"],o);e["default"]=c.exports},"2c4f":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"menu-item",props:{title:{type:String,default:""},index:Number,active:{type:Boolean,default:!1}},data:function(){return{}},filters:{formatIndex:function(t){return t<10?"00"+t:t>=10&&t<100?"0"+t:t}}};e.default=i},"2d22":function(t,e,n){"use strict";n.r(e);var i=n("ba6d"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"30c9":function(t,e,n){"use strict";n.r(e);var i=n("2c4f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"32ce":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"test-actions",props:{current:{type:Number,default:1},total:{type:Number,default:1},showSubmit:{type:Boolean,default:!0}},data:function(){return{}},methods:{submit:function(){this.$emit("submit")},next:function(){this.current>=this.total||this.$emit("on-page",this.current+1)},pre:function(){this.current<=1||this.$emit("on-page",this.current-1)}}};e.default=i},3697:function(t,e,n){"use strict";n.r(e);var i=n("9a40"),a=n("dcf9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("c027");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7f73451e",null,!1,i["a"],o);e["default"]=c.exports},"3d4f":function(t,e,n){"use strict";n("c740"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{book_id:0,activeId:0,menus:[],content:"",current:0}},onLoad:function(t){var e=t.book_id,n=t.id;if(!e||!n)return this.$toast("参数缺失"),void this.back();this.book_id=parseInt(e),this.activeId=parseInt(n),this.getData()},computed:{total:function(){return this.menus.length}},methods:{close:function(){this.$refs.showLeft.close()},open:function(){this.$refs.showLeft.open()},handleOpenLeft:function(){this.open()},onPage:function(t){this.current=t,this.getContent()},back:function(){setTimeout((function(){uni.navigateBack({delta:1})}),700)},getData:function(){var t=this;this.$api.getBookDetailContent({book_id:this.book_id,id:this.activeId}).then((function(e){if(t.menus=e.menus,0==t.menus.length)return t.$toast("该电子书没有章节内容"),t.back();var n=t.menus.findIndex((function(e){return e.id==t.activeId}));t.current=n+1,t.content=e.content,uni.setNavigationBarTitle({title:e.title}),""==e.content&&(t.content="暂无内容")})).catch((function(e){t.content=e,"请先购买该电子书"==e&&setTimeout((function(){uni.navigateBack({delta:1})}),500)}))},changeCurrent:function(t){this.current=t+1,this.getContent(),this.close()},getContent:function(){var t=this.menus[this.current-1];t&&(this.activeId=t.id,this.content="",this.getData())}}};e.default=i},"59c5":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex align-center p-3 border-bottom",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click")}}},[n("v-uni-text",{staticClass:"flex-shrink",class:t.active?"text-main":"text-muted",staticStyle:{width:"90rpx"}},[t._v(t._s(t._f("formatIndex")(t.index+1)))]),n("v-uni-view",{staticClass:"flex flex-column align-start",class:t.active?"text-main":"text-muted"},[t._v(t._s(t.title)),t._t("default")],2)],1)},r=[]},"5fce":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniDrawer:n("19e0").default,menuItem:n("755b").default,uniCard:n("70ab").default,mpHtml:n("580f").default,testActions:n("3697").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-drawer",{ref:"showLeft",attrs:{mode:"left","mask-click":!0}},[n("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"}},t._l(t.menus,(function(e,i){return n("menu-item",{key:i,attrs:{title:e.title,index:i,active:t.activeId==e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCurrent(i)}}},[n("v-uni-view",{staticClass:"flex"},[e.isfree?n("v-uni-text",{staticClass:"border text-danger rounded border-danger font-small px-1 mt-1"},[t._v("免费试看")]):t._e()],1)],1)})),1)],1),n("uni-card",{attrs:{isFull:!0}},[n("mp-html",{attrs:{content:t.content}},[n("v-uni-view",{staticClass:"flex justify-center py-3 text-muted"},[t._v("加载中...")])],1)],1),n("test-actions",{attrs:{showSubmit:!1,current:t.current,total:t.total},on:{"on-page":function(e){arguments[0]=e=t.$handleEvent(e),t.onPage.apply(void 0,arguments)},open:function(e){arguments[0]=e=t.$handleEvent(e),t.handleOpenLeft.apply(void 0,arguments)}}})],1)},r=[]},"6ad6":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleSync?n("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-drawer__mask",class:{"uni-drawer__mask--visible":t.showDrawer&&t.mask},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}}),n("v-uni-view",{staticClass:"uni-drawer__content",class:{"uni-drawer--right":t.rightMode,"uni-drawer--left":!t.rightMode,"uni-drawer__content--visible":t.showDrawer},style:{width:t.drawerWidth+"px"}},[t._t("default")],2),n("keypress",{on:{esc:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}})],1):t._e()},r=[]},"755b":function(t,e,n){"use strict";n.r(e);var i=n("59c5"),a=n("30c9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7d5298ab",null,!1,i["a"],o);e["default"]=c.exports},"7d90":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".test-actions[data-v-7f73451e]{display:flex;position:fixed;left:0;right:0;bottom:0;background-color:#fff;height:50px;z-index:100}.test-actions>uni-view[data-v-7f73451e]{flex:1;flex-direction:column;display:flex;align-items:center;justify-content:center}.test-actions .iconfont[data-v-7f73451e]{font-size:20px}",""]),t.exports=e},9424:function(t,e,n){var i=n("7d90");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("71057095",i,!0,{sourceMap:!1,shadowMode:!1})},"9a40":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticStyle:{height:"50px"}}),n("v-uni-view",{staticClass:"test-actions"},[n("v-uni-view",{staticClass:"iconfont icon-shangyibu",class:t.current<=1?"text-light-muted":"",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pre.apply(void 0,arguments)}}}),n("v-uni-view",{attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("open")}}},[n("v-uni-view",{staticClass:"iconfont icon-leimupinleifenleileibie"}),n("v-uni-view",{staticClass:"flex align-center justify-center font-sm"},[n("v-uni-text",{staticClass:"text-main"},[t._v(t._s(t.current))]),n("v-uni-text",[t._v("/"+t._s(t.total))])],1)],1),t.showSubmit?n("v-uni-view",{attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"iconfont icon-tijiao"}),n("v-uni-text",{staticClass:"font-sm"},[t._v("交卷")])],1):t._e(),n("v-uni-view",{staticClass:"iconfont icon-xiayibu",class:t.current>=t.total?"text-light-muted":"",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}})],1)],1)},r=[]},ba6d:function(t,e,n){"use strict";var i=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f79a")),r={name:"UniDrawer",components:{keypress:a.default},props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}},created:function(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear:function(){},close:function(t){("mask"!==t||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open:function(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change:function(t,e,n){var i=this;this[t]=n,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((function(){i[e]=n,i.$emit("change",n)}),n?50:300)}}};e.default=r},c027:function(t,e,n){"use strict";var i=n("9424"),a=n.n(i);a.a},c827:function(t,e,n){"use strict";n.r(e);var i=n("3d4f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},dcf9:function(t,e,n){"use strict";n.r(e);var i=n("32ce"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},f644:function(t,e,n){var i=n("1b2f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1d433f78",i,!0,{sourceMap:!1,shadowMode:!1})},f79a:function(t,e,n){"use strict";n("7db0"),n("caad"),n("b64b"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted:function(){var t=this,e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},n=function(n){if(!t.disable){var i=Object.keys(e).find((function(t){var i=n.key,a=e[t];return a===i||Array.isArray(a)&&a.includes(i)}));i&&setTimeout((function(){t.$emit(i,{})}),0)}};document.addEventListener("keyup",n),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("keyup",n)}))},render:function(){}};e.default=i},f8f6:function(t,e,n){"use strict";var i=n("f644"),a=n.n(i);a.a}}]);