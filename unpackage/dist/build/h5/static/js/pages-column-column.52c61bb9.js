(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-column-column"],{"253a":function(t,e,i){var a=i("5228");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("605f684c",a,!0,{sourceMap:!1,shadowMode:!1})},"2c4f":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"menu-item",props:{title:{type:String,default:""},index:Number,active:{type:Boolean,default:!1}},data:function(){return{}},filters:{formatIndex:function(t){return t<10?"00"+t:t>=10&&t<100?"0"+t:t}}};e.default=a},"30c9":function(t,e,i){"use strict";i.r(e);var a=i("2c4f"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},5228:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".tab-item[data-v-08c3b6b4]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;padding:%?20?%;color:#888}.tab-line[data-v-08c3b6b4]{width:%?50?%;height:%?10?%;background-color:#00cf8a;border-radius:%?10?%;position:absolute;bottom:0}.tab-item-active[data-v-08c3b6b4]{color:#00cf8a;font-weight:700}",""]),t.exports=e},"52fe":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"tab",props:{current:{type:Number,default:0},tabs:Array}};e.default=a},"59c5":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex align-center p-3 border-bottom",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click")}}},[i("v-uni-text",{staticClass:"flex-shrink",class:t.active?"text-main":"text-muted",staticStyle:{width:"90rpx"}},[t._v(t._s(t._f("formatIndex")(t.index+1)))]),i("v-uni-view",{staticClass:"flex flex-column align-start",class:t.active?"text-main":"text-muted"},[t._v(t._s(t.title)),t._t("default")],2)],1)},s=[]},"6a33":function(t,e,i){"use strict";var a=i("253a"),n=i.n(a);n.a},"755b":function(t,e,i){"use strict";i.r(e);var a=i("59c5"),n=i("30c9");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var r,u=i("f0c5"),l=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"7d5298ab",null,!1,a["a"],r);e["default"]=l.exports},"909d":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex",staticStyle:{"border-bottom":"1rpx solid #f4f4f4"}},t._l(t.tabs,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tab-item",class:t.current==a?"tab-item-active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("change",a)}}},[i("v-uni-text",{staticClass:"font-md"},[t._v(t._s(e.name))]),a==t.current?i("v-uni-view",{staticClass:"tab-line animate__animated animate__fadeIn animate__faster"}):t._e()],1)})),1)},s=[]},"94a6":function(t,e,i){"use strict";i.r(e);var a=i("52fe"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},a1df:function(t,e,i){"use strict";i.r(e);var a=i("a587"),n=i("eed4");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var r,u=i("f0c5"),l=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"30124814",null,!1,a["a"],r);e["default"]=l.exports},a587:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={activeBar:i("486c").default,tab:i("c323").default,collectBtn:i("007e").default,skeleton:i("f9c2").default,uniCard:i("70ab").default,groupWorks:i("a4c0").default,mpHtml:i("580f").default,menuItem:i("755b").default,mainButton:i("382a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"position-relative"},[i("v-uni-image",{staticClass:"bg-light",staticStyle:{width:"100%",height:"420rpx"},attrs:{src:t.detail.cover}}),i("v-uni-view",{staticClass:"text-white font-sm p-1",staticStyle:{position:"absolute",right:"20rpx",bottom:"20rpx","background-color":"rgba(0,0,0,0.4)"}},[t._v("专栏")])],1),t.activeData&&!t.detail.isbuy?i("active-bar",{attrs:{end_time:t.activeData.data.end_time,price:t.activeData.data.price,t_price:t.detail.price}},["group"==t.activeData.type?i("v-uni-text",[t._v(t._s(t.activeData.data.p_num)+"人拼团")]):i("v-uni-text",[t._v(t._s(t.activeData.data.used_num)+"人已枪/剩"+t._s(t.activeData.data.s_num-t.activeData.data.used_num)+"名")])],1):t._e(),i("tab",{attrs:{tabs:t.tabs,current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab.apply(void 0,arguments)}}}),0==t.current?i("v-uni-view",{staticClass:"animate__animated animate__fadeIn animate__faster"},[t.firstLoad?i("v-uni-view",{staticClass:"flex flex-column p-3"},[i("v-uni-text",{staticClass:"mb-1",staticStyle:{"font-size":"38rpx"}},[t._v(t._s(t.detail.title))]),i("v-uni-view",{staticClass:"flex align-center justify-between"},[i("v-uni-text",{staticClass:"font-sm text-light-muted"},[t._v(t._s(t.detail.sub_count)+" 人学过")]),i("collect-btn",{attrs:{isfava:t.detail.isfava,goods_id:t.detail.id,type:"column"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.detail.isfava=e}}})],1),t.detail.isbuy?t._e():i("v-uni-view",{staticClass:"flex mt-2 align-end"},[i("v-uni-text",{staticClass:"text-danger font-lg"},[t._v("￥"+t._s(t.detail.price))]),i("v-uni-text",{staticClass:"font-sm text-light-muted ml-1 text-through"},[t._v("￥"+t._s(t.detail.t_price))])],1)],1):i("v-uni-view",{staticClass:"flex flex-column p-3"},[i("skeleton",{attrs:{width:"600rpx",height:"75rpx",oClass:"mb-2"}}),i("skeleton",{attrs:{width:"150rpx",height:"70rpx"}}),i("v-uni-view",{staticClass:"flex mt-2 align-end"},[i("skeleton",{attrs:{width:"150rpx",height:"70rpx"}}),i("skeleton",{attrs:{width:"150rpx",height:"40rpx",oClass:"ml-1"}})],1)],1),i("v-uni-view",{staticClass:"divider"}),i("uni-card",{attrs:{title:"专栏简介",isFull:!0}},[t.detail.isbuy?t._e():i("group-works",{ref:"groupWorks",on:{updateData:function(e){arguments[0]=e=t.$handleEvent(e),t.getData.apply(void 0,arguments)}}}),i("mp-html",{attrs:{content:t.detail.content}},[i("v-uni-view",{staticClass:"flex justify-center py-3 text-muted"},[t._v("加载中...")])],1)],1)],1):i("v-uni-view",{staticClass:"animate__animated animate__fadeIn animate__faster"},[i("v-uni-view",{staticClass:"p-3"},[i("v-uni-view",{staticClass:"border rounded bg-light text-muted p-2"},[t._v("共 "+t._s(t.list.length)+" 节")])],1),t._l(t.list,(function(e,a){return i("menu-item",{key:a,attrs:{title:e.title,index:a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openPlay(e)}}},[i("v-uni-view",{staticClass:"flex"},[i("v-uni-text",{staticClass:"border text-danger rounded border-danger font-small px-1 mt-1 mr-1"},[t._v(t._s(t._f("formatType")(e.type)))]),0==e.price?i("v-uni-text",{staticClass:"border text-danger rounded border-danger font-small px-1 mt-1"},[t._v("免费试看")]):t._e()],1)],1)}))],2),!t.detail.isbuy&&t.firstLoad?[i("v-uni-view",{staticStyle:{height:"75px"}}),i("v-uni-view",{staticClass:"fixed-bottom p-2 border-top bg-white"},[i("main-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.btn))])],1)]:t._e()],2)},s=[]},c323:function(t,e,i){"use strict";i.r(e);var a=i("909d"),n=i("94a6");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("6a33");var r,u=i("f0c5"),l=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"08c3b6b4",null,!1,a["a"],r);e["default"]=l.exports},cb45:function(t,e,i){"use strict";i("99af"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={filters:{formatType:function(t){var e={media:"图文",audio:"音频",video:"视频"};return e[t]}},data:function(){return{firstLoad:!1,current:0,tabs:[{name:"简介"},{name:"目录"}],detail:{id:0,title:"",cover:"",try:"",price:"",t_price:"",type:"media",sub_count:0,content:"",isbuy:!1,isfava:!1},list:[],group_id:0,activeData:null,flashsale_id:0}},computed:{btn:function(){return this.detail.flashsale?"立即秒杀￥"+this.detail.flashsale.price:this.detail.group?"立即拼团￥"+this.detail.group.price:0==this.detail.price?"立即学习":"立即订购￥"+this.detail.price}},onLoad:function(t){if(this.detail.id=t.id,!this.detail.id)return this.$toast("非法参数"),void setTimeout((function(){uni.navigateBack({delta:1})}),700);t.group_id&&(this.group_id=t.group_id),t.flashsale_id&&(this.flashsale_id=t.flashsale_id)},onShow:function(){this.getData()},methods:{submit:function(){var t=this;if(this.group_id)return uni.showLoading({title:"发起拼团中...",mask:!0}),void this.$api.createOrder({group_id:this.group_id},"group").then((function(t){uni.navigateTo({url:"../h5pay/h5pay?no="+t.no})})).catch((function(t){console.log(t)})).finally((function(){uni.hideLoading()}));if(0==this.detail.price)return uni.showLoading({title:"加载中...",mask:!1}),void this.$api.learn({goods_id:this.detail.id,type:"column"}).then((function(e){t.getData()})).finally((function(){uni.hideLoading()}));var e="column",i=this.detail.id;this.detail.flashsale&&(e="flashsale",i=this.flashsale_id),this.authJump("../create-order/create-order?id=".concat(i,"&type=").concat(e))},openPlay:function(t){if(0!=t.price&&!this.detail.isbuy)return this.$toast("请先购买该专栏");this.authJump("/pages/course/course?id=".concat(t.id,"&column_id=").concat(this.detail.id))},clickTab:function(t){this.current=t},getData:function(){var t=this;this.$api.readColumn({id:this.detail.id,group_id:this.group_id,flashsale_id:this.flashsale_id}).then((function(e){t.detail=e,console.log(e),e.group&&(t.activeData={type:"group",data:e.group},t.$refs.groupWorks.init(t.group_id)),e.flashsale&&(t.activeData={type:"flashsale",data:e.flashsale}),t.list=e.column_courses,console.log(t.detail),uni.setNavigationBarTitle({title:t.detail.title})})).catch((function(t){"该记录不存在"==t&&setTimeout((function(){uni.navigateBack({delta:1})}),700)})).finally((function(){t.firstLoad=!0}))}}};e.default=a},eed4:function(t,e,i){"use strict";i.r(e);var a=i("cb45"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a}}]);