(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-h5pay-h5pay"],{"1d94":function(e,t,n){"use strict";var a=n("4ea4");n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var u=a(n("1da1")),r=a(n("e5a1")),i={data:function(){return{status:"pendding",statusOptions:{pendding:"支付中...",success:"支付成功",fail:"支付失败"}}},onLoad:function(e){var t=this;return(0,u.default)(regeneratorRuntime.mark((function n(){var a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.default.isInWechat()||uni.showModal({content:"请在微信浏览器中打开",showCancel:!1,success:function(e){e.confirm&&(location.href="/")}}),a=r.default.getUrlCode("code"),a){n.next=5;break}return r.default.getH5Code(),n.abrupt("return");case 5:return n.prev=5,n.next=8,t.$api.wxpay({no:e.no,code:a,type:"h5"});case 8:u=n.sent,console.log(u),t.wxH5Pay(u,(function(e){console.log(e),t.status="fail"})),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](5),-1!=n.t0.indexOf("code been used")?r.default.getH5Code():(t.status="fail",t.$toast(n.t0));case 16:case"end":return n.stop()}}),n,null,[[5,13]])})))()},methods:{wxH5Pay:function(e,t){function n(){WeixinJSBridge.invoke("getBrandWCPayRequest",e,(function(e){t(e)}))}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n)):n()}}};t.default=i},"482e":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"text-center my-5"},[e._v(e._s(e.statusOptions[e.status]))])],1)},r=[]},"830d":function(e,t,n){"use strict";n.r(t);var a=n("1d94"),u=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=u.a},e784:function(e,t,n){"use strict";n.r(t);var a=n("482e"),u=n("830d");for(var r in u)"default"!==r&&function(e){n.d(t,e,(function(){return u[e]}))}(r);var i,c=n("f0c5"),o=Object(c["a"])(u["default"],a["b"],a["c"],!1,null,"334cb1a8",null,!1,a["a"],i);t["default"]=o.exports}}]);