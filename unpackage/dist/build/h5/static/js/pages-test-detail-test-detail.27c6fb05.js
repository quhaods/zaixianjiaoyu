(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-test-detail-test-detail"],{"011f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"main-button",props:{disabled:{type:Boolean,default:!1},bClass:{type:String,default:""},bStyle:{type:String,default:""}},data:function(){return{}},methods:{onClick:function(){this.disabled||this.$emit("click")}}};e.default=i},"04f8":function(t,e,n){"use strict";var i=n("47e7"),a=n.n(i);a.a},"2b53":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"timer-box"},[t._v("考试时间 "+t._s(t._f("formatTime")(t.time_out)))]),n("v-uni-view",{staticStyle:{height:"85rpx"}})],1)},u=[]},"32ce":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"test-actions",props:{current:{type:Number,default:1},total:{type:Number,default:1},showSubmit:{type:Boolean,default:!0}},data:function(){return{}},methods:{submit:function(){this.$emit("submit")},next:function(){this.current>=this.total||this.$emit("on-page",this.current+1)},pre:function(){this.current<=1||this.$emit("on-page",this.current-1)}}};e.default=i},3697:function(t,e,n){"use strict";n.r(e);var i=n("9a40"),a=n("dcf9");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("c027");var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"7f73451e",null,!1,i["a"],r);e["default"]=s.exports},"382a":function(t,e,n){"use strict";n.r(e);var i=n("f67e"),a=n("cbd6");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"54c81656",null,!1,i["a"],r);e["default"]=s.exports},3915:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={timerBox:n("5a89").default,uniCard:n("70ab").default,mpHtml:n("580f").default,mainButton:n("382a").default,testOption:n("5882").default,testActions:n("3697").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.expire>0?n("timer-box",{attrs:{expire:t.expire},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.end.apply(void 0,arguments)}}}):t._e(),n("uni-card",{attrs:{isFull:!0,title:t._f("formatType")(t.q.type),extra:"第"+t.current+"题"}},[n("v-uni-view",{staticClass:"mb-2"},[n("mp-html",{attrs:{content:t.q.title}},[n("v-uni-view",{staticClass:"flex justify-center py-3 text-muted"},[t._v("加载中...")])],1)],1),"answer"==t.q.type?n("v-uni-textarea",{staticClass:"border p-2 w-100",staticStyle:{"box-sizing":"border-box"},attrs:{placeholder:"请输入答案..."},model:{value:t.q.user_value[0],callback:function(e){t.$set(t.q.user_value,0,e)},expression:"q.user_value[0]"}}):"completion"==t.q.type?n("v-uni-view",[t._l(t.q.user_value,(function(e,i){return n("v-uni-textarea",{key:i,staticClass:"border p-2 w-100 mb-2",staticStyle:{"box-sizing":"border-box"},attrs:{placeholder:"请输入答案..."},model:{value:t.q.user_value[i],callback:function(e){t.$set(t.q.user_value,i,e)},expression:"q.user_value[index]"}})})),n("main-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addCompletion.apply(void 0,arguments)}}},[t._v("添加填空")])],2):"trueOrfalse"==t.q.type||"radio"==t.q.type?n("v-uni-view",t._l(t.q.options,(function(e,i){return n("test-option",{key:i,attrs:{index:i,label:e,checked:t.q.user_value==i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDo.apply(void 0,arguments)}}})})),1):"checkbox"==t.q.type?n("v-uni-view",t._l(t.q.options,(function(e,i){return n("test-option",{key:i,attrs:{index:i,label:e,checked:t._f("formatChecked")(i,t.q.user_value)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDo.apply(void 0,arguments)}}})})),1):t._e()],1),n("test-actions",{attrs:{current:t.current,total:t.total},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.beforeSubmit.apply(void 0,arguments)},"on-page":function(e){arguments[0]=e=t.$handleEvent(e),t.onPage.apply(void 0,arguments)}}})],1)},u=[]},4204:function(t,e,n){"use strict";n.r(e);var i=n("3915"),a=n("80e8");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"162c63bc",null,!1,i["a"],r);e["default"]=s.exports},"47e7":function(t,e,n){var i=n("a229");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("09baf98c",i,!0,{sourceMap:!1,shadowMode:!1})},"50fc":function(t,e,n){"use strict";n.r(e);var i=n("9ba0"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},5882:function(t,e,n){"use strict";n.r(e);var i=n("bac0"),a=n("50fc");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"173cd821",null,!1,i["a"],r);e["default"]=s.exports},"5a89":function(t,e,n){"use strict";n.r(e);var i=n("2b53"),a=n("df27");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("04f8");var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"43d71a5c",null,!1,i["a"],r);e["default"]=s.exports},"79e1":function(t,e,n){"use strict";n("a9e3"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=null,a={name:"timer-box",filters:{formatTime:function(t){var e=parseInt(t%86400/3600),n=parseInt(t%3600/60),i=t%60;return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)}},props:{expire:{type:Number,default:1}},data:function(){return{time_out:0}},mounted:function(){this.time_out=60*this.expire,this.time_out>0&&(i=setInterval(this.handleTimeOut,1e3))},beforeDestroy:function(){i&&clearInterval(i)},methods:{handleTimeOut:function(){if(0==this.time_out)return this.$emit("end"),void clearInterval(i);this.time_out--}}};e.default=a},"7d90":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".test-actions[data-v-7f73451e]{display:flex;position:fixed;left:0;right:0;bottom:0;background-color:#fff;height:50px;z-index:100}.test-actions>uni-view[data-v-7f73451e]{flex:1;flex-direction:column;display:flex;align-items:center;justify-content:center}.test-actions .iconfont[data-v-7f73451e]{font-size:20px}",""]),t.exports=e},"80e8":function(t,e,n){"use strict";n.r(e);var i=n("9c2d"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},9424:function(t,e,n){var i=n("7d90");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("71057095",i,!0,{sourceMap:!1,shadowMode:!1})},"9a40":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticStyle:{height:"50px"}}),n("v-uni-view",{staticClass:"test-actions"},[n("v-uni-view",{staticClass:"iconfont icon-shangyibu",class:t.current<=1?"text-light-muted":"",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pre.apply(void 0,arguments)}}}),n("v-uni-view",{attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("open")}}},[n("v-uni-view",{staticClass:"iconfont icon-leimupinleifenleileibie"}),n("v-uni-view",{staticClass:"flex align-center justify-center font-sm"},[n("v-uni-text",{staticClass:"text-main"},[t._v(t._s(t.current))]),n("v-uni-text",[t._v("/"+t._s(t.total))])],1)],1),t.showSubmit?n("v-uni-view",{attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"iconfont icon-tijiao"}),n("v-uni-text",{staticClass:"font-sm"},[t._v("交卷")])],1):t._e(),n("v-uni-view",{staticClass:"iconfont icon-xiayibu",class:t.current>=t.total?"text-light-muted":"",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}})],1)],1)},u=[]},"9ba0":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F"},a={name:"test-option",props:{checked:{type:Boolean,default:!1},index:{type:Number,default:0},label:{type:String,default:""}},filters:{formatIndex:function(t){return i[t]}},data:function(){return{}}};e.default=a},"9c2d":function(t,e,n){"use strict";n("c740"),n("4160"),n("caad"),n("d81d"),n("a434"),n("d3b7"),n("2532"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={answer:"问答题",completion:"填空题",trueOrfalse:"判断题",checkbox:"多选题",radio:"单选选题"},a={filters:{formatType:function(t){return i[t]},formatChecked:function(t,e){return e.includes(t)}},data:function(){return{current:0,total:0,list:[],id:0,expire:0,title:"",user_test_id:0,isback:!1}},computed:{q:function(){return this.list[this.current-1]||{}},undo:function(){var t=[];return this.list.forEach((function(e,n){(("answer"==e.type||"completion"==e.type)&&!e.user_value[0]||("trueOrfalse"==e.type||"radio"==e.type)&&-1==e.user_value||"checkbox"==e.type&&0==e.user_value.length)&&t.push(n+1)})),t}},onLoad:function(t){if(!t.id)return this.$toast("非法参数"),void setTimeout((function(){uni.navigateBack({delta:1})}),600);this.id=t.id,this.getData()},onBackPress:function(){var t=this;return this.isback?(uni.$emit("refreshTestList",""),!1):(uni.showModal({content:"是否要放弃这场考试？",cancelText:"继续做题",confirmText:"放弃",success:function(e){e.confirm&&(t.isback=!0,uni.navigateBack({delta:1}))}}),!0)},methods:{beforeSubmit:function(){var t=this;if(this.undo.length>0)return uni.showModal({content:"还有题目没有完成：第".concat(this.undo.join(","),"题"),showCancel:!1});uni.showModal({content:"是否要交卷？",cancelText:"继续做题",confirmText:"现在交卷",success:function(e){e.confirm&&t.submit()}})},submit:function(){var t=this;uni.showLoading({title:"交卷中...",mask:!1}),this.$api.submitTest({user_test_id:this.user_test_id,value:this.list.map((function(t){return t.user_value}))}).then((function(e){t.$toast("交卷成功"),t.isback=!0,setTimeout((function(){uni.navigateBack({delta:1})}),500)})).finally((function(){uni.hideLoading()}))},getData:function(){var t=this;uni.showLoading({title:"加载中..."}),this.$api.readTestpaper({id:this.id}).then((function(e){t.expire=e.expire,t.title=e.title,t.list=e.testpaper_questions,t.user_test_id=e.user_test_id,t.total=t.list.length,t.total>0&&(t.current=1)})).finally((function(){uni.hideLoading()}))},end:function(){this.isback=!0,this.$toast("考试结束"),setTimeout((function(){uni.navigateBack({delta:1})}),600)},onPage:function(t){this.current=t},addCompletion:function(){this.list[this.current-1].user_value.push("")},handleDo:function(t){if("radio"!=this.q.type&&"trueOrfalse"!=this.q.type){var e=this.q.user_value.findIndex((function(e){return e==t}));-1==e?this.q.user_value.push(t):this.q.user_value.splice(e,1)}else this.list[this.current-1].user_value=t}}};e.default=a},a229:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".timer-box[data-v-43d71a5c]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:red;border-top:%?1?% solid red;border-bottom:%?1?% solid red;padding:%?20?% 0;font-size:%?35?%;height:%?50?%;position:fixed;left:0;right:0;z-index:1000}",""]),t.exports=e},bac0:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={mpHtml:n("580f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"border rounded px-3 py-2 mb-2 flex align-start",class:t.checked?"border-main text-main":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click",t.index)}}},[n("v-uni-text",{staticClass:"mr-2"},[t._v(t._s(t._f("formatIndex")(t.index)))]),n("v-uni-view",[n("mp-html",{attrs:{content:t.label}})],1)],1)},u=[]},c027:function(t,e,n){"use strict";var i=n("9424"),a=n.n(i);a.a},cbd6:function(t,e,n){"use strict";n.r(e);var i=n("011f"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},dcf9:function(t,e,n){"use strict";n.r(e);var i=n("32ce"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},df27:function(t,e,n){"use strict";n.r(e);var i=n("79e1"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},f67e:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bg-main main-btn",class:t.bClass+" "+(t.disabled?"bg-main-disabled":""),style:t.bStyle,attrs:{"hover-class":"bg-main-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t._t("default")],2)},u=[]}}]);