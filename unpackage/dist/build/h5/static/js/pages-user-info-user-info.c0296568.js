(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-info-user-info"],{"011f":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={name:"main-button",props:{disabled:{type:Boolean,default:!1},bClass:{type:String,default:""},bStyle:{type:String,default:""}},data:function(){return{}},methods:{onClick:function(){this.disabled||this.$emit("click")}}};n.default=i},"382a":function(t,n,e){"use strict";e.r(n);var i=e("f67e"),a=e("cbd6");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);var r,u=e("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"54c81656",null,!1,i["a"],r);n["default"]=s.exports},"550a":function(t,n,e){"use strict";e.r(n);var i=e("cb1f"),a=e("cfd2");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);var r,u=e("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"cd5aade8",null,!1,i["a"],r);n["default"]=s.exports},cb1f:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={uniList:e("6e69").default,uniListItem:e("7e4b").default,mainButton:e("382a").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("uni-list",{attrs:{border:!1}},[e("uni-list-item",{attrs:{clickable:!0,border:!1,title:"头像"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changeAvatar.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"bg-light",staticStyle:{width:"80rpx",height:"80rpx","border-radius":"100%"},attrs:{slot:"footer",src:t.form.avatar},slot:"footer"})],1),e("uni-list-item",{attrs:{border:!1,title:"昵称"}},[e("v-uni-input",{staticClass:"text-right",attrs:{slot:"footer",type:"text",placeholder:"未填写"},slot:"footer",model:{value:t.form.nickname,callback:function(n){t.$set(t.form,"nickname",n)},expression:"form.nickname"}})],1),e("uni-list-item",{attrs:{clickable:!0,border:!1,title:"性别"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changeSex.apply(void 0,arguments)}}},[e("v-uni-text",{attrs:{slot:"footer"},slot:"footer"},[t._v(t._s(t.form.sex))])],1),e("uni-list-item",{attrs:{clickable:!0,border:!1,title:"手机"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navigateTo("/pages/bind-phone/bind-phone")}}},[e("v-uni-text",{attrs:{slot:"footer"},slot:"footer"},[t._v(t._s(t.user.phone||"未绑定"))])],1)],1),e("v-uni-view",{staticClass:"p-3"},[e("main-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit.apply(void 0,arguments)}}},[t._v("提 交")])],1)],1)},o=[]},cbd6:function(t,n,e){"use strict";e.r(n);var i=e("011f"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},cfd2:function(t,n,e){"use strict";e.r(n);var i=e("fd20"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},f67e:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"bg-main main-btn",class:t.bClass+" "+(t.disabled?"bg-main-disabled":""),style:t.bStyle,attrs:{"hover-class":"bg-main-hover"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onClick.apply(void 0,arguments)}}},[t._t("default")],2)},o=[]},fd20:function(t,n,e){"use strict";var i=e("4ea4");e("d3b7"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("5530")),o=e("26cb"),r={computed:(0,a.default)({},(0,o.mapState)({user:function(t){return t.user}})),data:function(){return{form:{avatar:"",nickname:"",sex:"未知"}}},created:function(){this.form={avatar:this.user.avatar,nickname:this.user.nickname,sex:this.user.sex}},methods:{changeAvatar:function(){var t=this;uni.chooseImage({count:1,success:function(n){t.$api.upload(n.tempFilePaths[0],(function(t){console.log("进度",t)})).then((function(n){t.form.avatar=n}))}})},changeSex:function(){var t=this,n=["未知","男","女"];uni.showActionSheet({itemList:n,success:function(e){t.form.sex=n[e.tapIndex]}})},submit:function(){var t=this;uni.showLoading({title:"提交中..."});var n=Object.assign(this.form,{});this.$api.updateInfo(n).then((function(e){t.$store.dispatch("updateInfo",n),t.$toast("保存成功")})).finally((function(){uni.hideLoading()}))}}};n.default=r}}]);