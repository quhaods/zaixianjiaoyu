(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0005":function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return r})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){return e}));var r=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",[t.list.length?i("v-uni-view",[i("v-uni-view",{staticClass:"flex align-center justify-between py-3 px-2"},[i("v-uni-text",{staticClass:"font-md font-weight-bold"},[t._v("历史记录")]),i("v-uni-text",{staticClass:"font-sm text-light-muted",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clear.apply(void 0,arguments)}}},[t._v("清除全部")])],1),i("v-uni-view",{staticClass:"flex flex-wrap px-2",staticStyle:{"margin-right":"-30rpx"}},t._l(t.list,(function(n,e){return i("v-uni-text",{key:e,staticClass:"bg-hover-light px-2 py-1 font-sm rounded-circle",staticStyle:{"margin-right":"25rpx","margin-bottom":"25rpx","line-height":"1","max-width":"300rpx",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(t._s(n))])})),1)],1):t._e()],1)},o=[]},"4fdd":function(t,n,i){"use strict";i("c740"),i("a434"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{list:[],keyword:""}},onNavigationBarSearchInputChanged:function(t){this.keyword=t.text},onNavigationBarButtonTap:function(){this.handleSearchEvent()},onNavigationBarSearchInputConfirmed:function(){this.handleSearchEvent()},onLoad:function(){var t=uni.getStorageSync("historyKeyword");t&&(this.list=JSON.parse(t))},methods:{handleSearchEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&(this.keyword=t),""==this.keyword)return this.$toast("请输入关键词");uni.navigateTo({url:"../search-result/search-result?keyword="+this.keyword}),this.addHistory()},addHistory:function(){var t=this,n=this.list.findIndex((function(n){return n==t.keyword}));-1!=n?this.objToFirst(this.list,n):this.list.unshift(this.keyword),uni.setStorageSync("historyKeyword",JSON.stringify(this.list))},clear:function(){var t=this;uni.showModal({content:"是否要清除搜索记录？",success:function(n){n.confirm&&(t.list=[],uni.removeStorageSync("historyKeyword"))}})},objToFirst:function(t,n){return 0!=n&&t.unshift(t.splice(n,1)[0]),t}}};n.default=e},8252:function(t,n,i){"use strict";i.r(n);var e=i("0005"),r=i("9964");for(var o in r)"default"!==o&&function(t){i.d(n,t,(function(){return r[t]}))}(o);var a,s=i("f0c5"),u=Object(s["a"])(r["default"],e["b"],e["c"],!1,null,"6fcfe50a",null,!1,e["a"],a);n["default"]=u.exports},9964:function(t,n,i){"use strict";i.r(n);var e=i("4fdd"),r=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=r.a}}]);