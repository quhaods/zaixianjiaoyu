(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book-detail-book-detail"],{"011f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"main-button",props:{disabled:{type:Boolean,default:!1},bClass:{type:String,default:""},bStyle:{type:String,default:""}},data:function(){return{}},methods:{onClick:function(){this.disabled||this.$emit("click")}}};e.default=n},"253a":function(t,e,i){var n=i("5228");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("605f684c",n,!0,{sourceMap:!1,shadowMode:!1})},"2c4e":function(t,e,i){"use strict";i("99af"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"skeleton",props:{width:{type:[Number,String],default:0},height:{type:[Number,String],default:0},circle:{type:Boolean,default:!1},oClass:{type:String,default:""}},computed:{getStyle:function(){return"width:".concat(this.width,";height:").concat(this.height,";")},getClass:function(){var t="";return this.circle&&(t+="rounded-circle"),"".concat(t," ").concat(this.oClass)}},data:function(){return{}}};e.default=n},"2c4f":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"menu-item",props:{title:{type:String,default:""},index:Number,active:{type:Boolean,default:!1}},data:function(){return{}},filters:{formatIndex:function(t){return t<10?"00"+t:t>=10&&t<100?"0"+t:t}}};e.default=n},"30c9":function(t,e,i){"use strict";i.r(e);var n=i("2c4f"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"382a":function(t,e,i){"use strict";i.r(e);var n=i("f67e"),a=i("cbd6");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"54c81656",null,!1,n["a"],s);e["default"]=c.exports},"452e":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={tab:i("c323").default,skeleton:i("f9c2").default,uniCard:i("70ab").default,mpHtml:i("580f").default,menuItem:i("755b").default,mainButton:i("382a").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"position-relative"},[i("v-uni-view",{staticClass:"scroll-row-item course course-one"},[i("v-uni-view",{staticClass:"position-relative"},[i("v-uni-image",{staticClass:"rounded",attrs:{src:t.detail.cover}})],1),i("v-uni-view",{staticClass:"flex flex-column flex-shrink"},[i("v-uni-text",{staticClass:"font-lg"},[t._v(t._s(t.detail.title))]),i("v-uni-view",{staticClass:"flex flex-1 align-end"},[i("v-uni-view",{staticClass:"border rounded p-2 text-danger",staticStyle:{"background-color":"rgb(255, 247, 240)","border-color":"rgb(255, 227, 203)"}},[i("v-uni-text",{staticClass:"font-lg"},[t._v("￥"+t._s(t.detail.price))]),i("v-uni-text",{staticClass:"font text-light-muted"},[t._v("￥"+t._s(t.detail.t_price))]),i("v-uni-text",{staticClass:"mx-2"},[t._v("|")]),i("v-uni-text",{staticClass:"font"},[t._v(t._s(t.detail.sub_count)+"人")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"divider"}),i("tab",{attrs:{tabs:t.tabs,current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab.apply(void 0,arguments)}}}),0==t.current?i("v-uni-view",{staticClass:"animate__animated animate__fadeIn animate__faster"},[t.firstLoad?i("v-uni-view",{staticClass:"flex flex-column p-3"},[i("v-uni-text",{staticClass:"mb-1",staticStyle:{"font-size":"38rpx"}},[t._v(t._s(t.detail.title))]),i("v-uni-text",{staticClass:"font-sm text-light-muted"},[t._v(t._s(t.detail.sub_count)+" 人学过")]),t.detail.isbuy?t._e():i("v-uni-view",{staticClass:"flex mt-2 align-end"},[i("v-uni-text",{staticClass:"text-danger font-lg"},[t._v("￥"+t._s(t.detail.price))]),i("v-uni-text",{staticClass:"font-sm text-light-muted ml-1 text-through"},[t._v("￥"+t._s(t.detail.t_price))])],1)],1):i("v-uni-view",{staticClass:"flex flex-column p-3"},[i("skeleton",{attrs:{width:"600rpx",height:"75rpx",oClass:"mb-2"}}),i("skeleton",{attrs:{width:"150rpx",height:"70rpx"}}),i("v-uni-view",{staticClass:"flex mt-2 align-end"},[i("skeleton",{attrs:{width:"150rpx",height:"70rpx"}}),i("skeleton",{attrs:{width:"150rpx",height:"40rpx",oClass:"ml-1"}})],1)],1),i("v-uni-view",{staticClass:"divider"}),i("uni-card",{attrs:{title:"电子书简介",isFull:!0}},[i("mp-html",{attrs:{content:t.detail.try}},[i("v-uni-view",{staticClass:"flex justify-center py-3 text-muted"},[t._v("加载中...")])],1)],1)],1):i("v-uni-view",{staticClass:"animate__animated animate__fadeIn animate__faster"},[i("v-uni-view",{staticClass:"p-3"},[i("v-uni-view",{staticClass:"border rounded bg-light text-muted p-2"},[t._v("共 "+t._s(t.list.length)+" 节")])],1),t._l(t.list,(function(e,n){return i("menu-item",{key:n,attrs:{title:e.title,index:n},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openPlay(e)}}},[i("v-uni-view",{staticClass:"flex"},[e.isfree?i("v-uni-text",{staticClass:"border text-danger rounded border-danger font-small px-1 mt-1"},[t._v("免费试看")]):t._e()],1)],1)}))],2),!t.detail.isbuy&&t.firstLoad?[i("v-uni-view",{staticStyle:{height:"75px"}}),i("v-uni-view",{staticClass:"fixed-bottom p-2 border-top bg-white"},[i("main-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(0==t.detail.price?"立即学习":"立即订购￥"+t.detail.price))])],1)]:t._e()],2)},r=[]},"46c1":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.getClass,staticStyle:{"background-color":"rgb(245, 245, 241)"},style:t.getStyle})},r=[]},5228:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".tab-item[data-v-08c3b6b4]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;padding:%?20?%;color:#888}.tab-line[data-v-08c3b6b4]{width:%?50?%;height:%?10?%;background-color:#00cf8a;border-radius:%?10?%;position:absolute;bottom:0}.tab-item-active[data-v-08c3b6b4]{color:#00cf8a;font-weight:700}",""]),t.exports=e},"52fe":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"tab",props:{current:{type:Number,default:0},tabs:Array}};e.default=n},"59c5":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex align-center p-3 border-bottom",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click")}}},[i("v-uni-text",{staticClass:"flex-shrink",class:t.active?"text-main":"text-muted",staticStyle:{width:"90rpx"}},[t._v(t._s(t._f("formatIndex")(t.index+1)))]),i("v-uni-view",{staticClass:"flex flex-column align-start",class:t.active?"text-main":"text-muted"},[t._v(t._s(t.title)),t._t("default")],2)],1)},r=[]},"67e9":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".course>uni-view:first-child>uni-view[data-v-1f5544df]{position:absolute;right:%?10?%;bottom:%?10?%;background-color:rgba(0,0,0,.4);padding:0 %?10?%}.course-one[data-v-1f5544df]{display:flex!important;padding:%?20?%}.course-one>uni-view[data-v-1f5544df]:first-child{margin-right:%?20?%}.course-one uni-image[data-v-1f5544df],.course-one>uni-view[data-v-1f5544df]:first-child{width:%?258?%;height:%?380?%;flex-shrink:1}.course-one>uni-view[data-v-1f5544df]:last-child{width:%?430?%}",""]),t.exports=e},"6a33":function(t,e,i){"use strict";var n=i("253a"),a=i.n(n);a.a},"755b":function(t,e,i){"use strict";i.r(e);var n=i("59c5"),a=i("30c9");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"7d5298ab",null,!1,n["a"],s);e["default"]=c.exports},"7fb0":function(t,e,i){"use strict";var n=i("f909"),a=i.n(n);a.a},8744:function(t,e,i){"use strict";i.r(e);var n=i("452e"),a=i("cb4f");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("7fb0");var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"1f5544df",null,!1,n["a"],s);e["default"]=c.exports},"892c":function(t,e,i){"use strict";i("99af"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{firstLoad:!1,current:0,tabs:[{name:"简介"},{name:"目录"}],detail:{id:0,title:"",cover:"",try:"",price:"",t_price:"",type:"media",sub_count:0,content:"",isbuy:!1},list:[]}},onLoad:function(t){if(this.detail.id=t.id,!this.detail.id)return this.$toast("非法参数"),void setTimeout((function(){uni.navigateBack({delta:1})}),700)},onShow:function(){this.getData()},methods:{submit:function(){var t=this;if(0==this.detail.price)return uni.showLoading({title:"加载中...",mask:!1}),void this.$api.learn({goods_id:this.detail.id,type:"book"}).then((function(e){t.getData()})).finally((function(){uni.hideLoading()}));var e="book",i=this.detail.id;this.authJump("../create-order/create-order?id=".concat(i,"&type=").concat(e))},openPlay:function(t){if(console.log(t),0==t.isfree&&!this.detail.isbuy)return this.$toast("请先购买该电子书");this.authJump("/pages/book/book?id=".concat(t.id,"&book_id=").concat(this.detail.id))},clickTab:function(t){this.current=t},getData:function(){var t=this;this.$api.readBook({id:this.detail.id}).then((function(e){console.log(e),t.detail=e,t.list=e.book_details,uni.setNavigationBarTitle({title:t.detail.title})})).catch((function(t){"该记录不存在"==t&&setTimeout((function(){uni.navigateBack({delta:1})}),700)})).finally((function(){t.firstLoad=!0}))}}};e.default=n},"909d":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex",staticStyle:{"border-bottom":"1rpx solid #f4f4f4"}},t._l(t.tabs,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tab-item",class:t.current==n?"tab-item-active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("change",n)}}},[i("v-uni-text",{staticClass:"font-md"},[t._v(t._s(e.name))]),n==t.current?i("v-uni-view",{staticClass:"tab-line animate__animated animate__fadeIn animate__faster"}):t._e()],1)})),1)},r=[]},"94a6":function(t,e,i){"use strict";i.r(e);var n=i("52fe"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},c323:function(t,e,i){"use strict";i.r(e);var n=i("909d"),a=i("94a6");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("6a33");var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"08c3b6b4",null,!1,n["a"],s);e["default"]=c.exports},cb4f:function(t,e,i){"use strict";i.r(e);var n=i("892c"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},cbd6:function(t,e,i){"use strict";i.r(e);var n=i("011f"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},dbb0:function(t,e,i){"use strict";i.r(e);var n=i("2c4e"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},f67e:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"bg-main main-btn",class:t.bClass+" "+(t.disabled?"bg-main-disabled":""),style:t.bStyle,attrs:{"hover-class":"bg-main-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t._t("default")],2)},r=[]},f909:function(t,e,i){var n=i("67e9");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("a72c9f86",n,!0,{sourceMap:!1,shadowMode:!1})},f9c2:function(t,e,i){"use strict";i.r(e);var n=i("46c1"),a=i("dbb0");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"bb7d90a4",null,!1,n["a"],s);e["default"]=c.exports}}]);