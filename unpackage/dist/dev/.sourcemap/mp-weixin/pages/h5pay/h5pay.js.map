{"version":3,"sources":["uni-app:///main.js","webpack:///D:/课程/已完结/uni-app在线教育/uniapp在线教育/pages/h5pay/h5pay.vue?90f1","webpack:///D:/课程/已完结/uni-app在线教育/uniapp在线教育/pages/h5pay/h5pay.vue?acd1","webpack:///D:/课程/已完结/uni-app在线教育/uniapp在线教育/pages/h5pay/h5pay.vue?0f09","webpack:///D:/课程/已完结/uni-app在线教育/uniapp在线教育/pages/h5pay/h5pay.vue?2d66","uni-app:///pages/h5pay/h5pay.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACgL;AAChL,gBAAgB,oLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmqB,CAAgB,kpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACOvrB,oF;AACA;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA;AACA,0BADA;AAEA,uBAFA;AAGA,oBAHA,EAFA;;;AAQA,GAVA;AAWA,QAXA,kBAWA,CAXA,EAWA;AACA;AACA;AACA;AACA,uCADA;AAEA,mCAFA;AAGA;AACA;AACA;AACA;AACA,mBAPA;;AASA;;AAEA,kBAdA,GAcA,gCAdA;;AAgBA,kBAhBA;AAiBA,wCAjBA;;;;;;AAuBA;AACA,0BADA;AAEA,4BAFA;AAGA,4BAHA,GAvBA,SAuBA,SAvBA;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAHA,EAxCA;;AA6CA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,eAnDA;;AAqDA,GAhEA;AAiEA;AACA,WADA,mBACA,IADA,EACA,QADA,EACA;AACA;;;;;;;;;;AAUA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA,KA3BA,EAjEA,E","file":"pages/h5pay/h5pay.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/h5pay/h5pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./h5pay.vue?vue&type=template&id=d9e1aa04&\"\nvar renderjs\nimport script from \"./h5pay.vue?vue&type=script&lang=js&\"\nexport * from \"./h5pay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/h5pay/h5pay.vue\"\nexport default component.exports","export * from \"-!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./h5pay.vue?vue&type=template&id=d9e1aa04&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./h5pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../MySoft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./h5pay.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"text-center my-5\">{{ statusOptions[status] }}</view>\n\t</view>\n</template>\n\n<script>\r\n\timport tool from '@/common/tool.js';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatus:\"pendding\",\r\n\t\t\t\tstatusOptions:{\r\n\t\t\t\t\tpendding:\"支付中...\",\r\n\t\t\t\t\tsuccess:\"支付成功\",\r\n\t\t\t\t\tfail:\"支付失败\"\r\n\t\t\t\t}\n\t\t\t}\n\t\t},\r\n\t\tasync onLoad(e) {\r\n\t\t\t// 是否在微信浏览器中\r\n\t\t\tif(!tool.isInWechat()){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '请在微信浏览器中打开',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\tlocation.href = '/'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet code = tool.getUrlCode(\"code\")\r\n\t\t\t\r\n\t\t\tif(!code){\r\n\t\t\t\ttool.getH5Code()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 请求支付\r\n\t\t\ttry{\r\n\t\t\t\tlet orderInfo = await this.$api.wxpay({\r\n\t\t\t\t\tno:e.no,\r\n\t\t\t\t\tcode,\r\n\t\t\t\t\ttype:\"h5\"\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(orderInfo);\r\n\t\t\t\t// {\r\n\t\t\t\t// \tappId: \"wxf0d98abcc66aab61\",\r\n\t\t\t\t// \tnonceStr: \"urN2FLRDvsrJuKiQ\",\r\n\t\t\t\t// \tpackage: \"prepay_id=wx06040120387050015fc250c8479f9d0000\",\r\n\t\t\t\t// \tpaySign: \"1898E6AFC91C27DFF5677F505FD24058\",\r\n\t\t\t\t// \tsignType: \"MD5\",\r\n\t\t\t\t// \ttimeStamp: \"1633464080\",\r\n\t\t\t\t// \ttimestamp: \"1633464080\"\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\t// H5支付\r\n\t\t\t\tthis.wxH5Pay(orderInfo,(s)=>{\r\n\t\t\t\t\tconsole.log(s);\r\n\t\t\t\t\tthis.status = 'fail'\r\n\t\t\t\t})\r\n\t\t\t}catch(err){\r\n\t\t\t\t//TODO handle the exception\r\n\t\t\t\tif(err.indexOf('code been used') != -1){\r\n\t\t\t\t\ttool.getH5Code()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.status = 'fail'\r\n\t\t\t\t\tthis.$toast(err)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\twxH5Pay(data, callback){\r\n\t\t\t    /**\r\n\t\t\t     data:{\r\n\t\t\t          \"appId\": \"wx2421b1c4370ecxxx\",   //公众号ID，由商户传入    \r\n\t\t\t          \"timeStamp\": \"1395712654\",   //时间戳，自1970年以来的秒数    \r\n\t\t\t          \"nonceStr\": \"e61463f8efa94090b1f366cccfbbb444\",      //随机串    \r\n\t\t\t          \"package\": \"prepay_id=up_wx21201855730335ac86f8c43d1889123400\",\r\n\t\t\t          \"signType\": \"RSA\",     //微信签名方式：    \r\n\t\t\t          \"paySign\": \"oR9d8PuhnIc+YZ8cBHFCwfgpaK9gd7vaRvkYD7rthRAZ\\/X+QBhcCYL21N7cHCTUxbQ+EAt6Uy+lwSN22f5YZvI45MLko8Pfso0jm46v5hqcVwrk6uddkGuT+Cdvu4WBqDzaDjnNa5UK3GfE1Wfl2gHxIIY5lLdUgWFts17D4WuolLLkiFZV+JSHMvH7eaLdT9N5GBovBwu5yYKUR7skR8Fu+LozcSqQixnlEZUfyE55feLOQTUYzLmR9pNtPbPsu6WVhbNHMS3Ss2+AehHvz+n64GDmXxbX++IOBvm2olHu3PsOUGRwhudhVf7UcGcunXt8cqNjKNqZLhLw4jq\\/xDg==\" //微信签名\r\n\t\t\t    }\r\n\t\t\t    **/\r\n\t\t\t    function onBridgeReady() {\r\n\t\t\t        WeixinJSBridge.invoke('getBrandWCPayRequest',data,(res)=> {\r\n\t\t\t            callback(res)\r\n\t\t\t        })\r\n\t\t\t    }\r\n\t\t\t    if  (typeof WeixinJSBridge == \"undefined\") {\r\n\t\t\t        if ( document.addEventListener ) {\r\n\t\t\t            document.addEventListener('WeixinJSBridgeReady',  onBridgeReady,  false)\r\n\t\t\t        } else  if  (document.attachEvent) {\r\n\t\t\t            document.attachEvent('WeixinJSBridgeReady',  onBridgeReady);\r\n\t\t\t            document.attachEvent('onWeixinJSBridgeReady',  onBridgeReady)\r\n\t\t\t        }\r\n\t\t\t    } else {\r\n\t\t\t        onBridgeReady()\r\n\t\t\t    }\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}